# MacDevTools v1.0.0 发布说明

## 🎉 版本 1.0.0 (Beta)

**发布日期**: 2024

MacDevTools 是一个高性能的开发者工具集，专为 macOS 设计，提供原生 macOS 体验和强大的开发工具。

---

## ✨ 新功能

### 🎨 原生 macOS 体验
- **沉浸式窗口设计**：隐藏式标题栏，带有原生交通灯按钮（红/黄/绿）
- **背景模糊效果**：半透明侧边栏，具有 macOS 风格的模糊效果
- **原生菜单栏集成**：完整的 macOS 菜单栏支持
- **原生对话框**：使用系统文件选择器进行导入/导出
- **macOS 快捷键**：所有键盘快捷键使用 `Cmd` 键
- **窗口行为优化**：点击关闭按钮时最小化到 Dock（而非直接关闭）

### 🛠️ 开发者工具

#### JSON 工具
- 格式化 JSON（带缩进）
- 压缩 JSON（移除空白）
- 语法验证和错误高亮
- 实时预览

#### XML 工具
- 格式化 XML 文档
- 将 XML 转换为 JSON
- 语法验证

#### Base64 工具
- 文本编码为 Base64
- Base64 解码为文本
- 解码内容的实时预览

#### HTTP 工具 ⭐
- 发送 HTTP 请求（GET、POST、PUT、DELETE 等）
- 自定义请求头支持
- 请求体编辑器
- **响应查看器**：自动显示 HTTP 响应信息
- **请求耗时显示**：显示每次请求的耗时（毫秒）
- **自动保存响应**：发送请求后自动保存响应信息
- **响应持久化**：保存文件时，响应信息也会被保存，下次打开文件仍可查看
- 语法高亮和代码折叠
- 右键菜单复制功能
- 支持相对路径和 Host 头

### 📁 文件管理
- 虚拟文件系统，支持文件夹
- 创建、重命名、删除文件和文件夹
- 右键上下文菜单
- 基于标签页的编辑器，带有未保存状态跟踪
- **自动保存选项**（默认开启）
- 可拖拽调整预览框宽度

### 🔍 全局搜索与替换
- 在所有工具的所有文件中搜索
- **全部替换功能**：支持批量替换所有匹配项
- 替换功能带有确认对话框
- 键盘快捷键：`Cmd+Shift+F`
- 使用原生 macOS 对话框

### 💾 备份与恢复
- 将所有数据导出为 JSON 文件
- 导入备份文件
- 原生 macOS 保存/打开对话框

### 🎨 主题与外观
- 浅色和深色模式
- macOS 风格的颜色调色板
- 平滑过渡动画
- HTTP 工具专用主题样式
- **右上角主题切换图标**：快速切换主题
- **可自定义字体大小**：8-24px
- **可自定义字体**：支持多种等宽字体（Menlo、Monaco、SF Mono、Fira Code、JetBrains Mono 等）

### ⚙️ 设置与自定义
- **快捷键自定义**：支持自定义所有快捷键
- **快捷键模块折叠**：设置界面更简洁
- **字体设置**：可调整代码区和预览区的字体大小和字体
- 语言切换（中文/英文）
- 自动保存开关

---

## 🐛 修复的问题

### 文件操作
- ✅ 修复右键菜单删除文件无效果的问题
- ✅ 修复在 Mac 软件中无法删除文件的问题（使用原生确认对话框）
- ✅ 修复文件删除确认对话框在 Wails 应用中的兼容性问题

### 编辑器功能
- ✅ 修复 HTTP 工具代码区域在深色模式下显示为白色的问题
- ✅ 修复切换工具后 `.json` 和 `.xml` 文件标签页无法切换的问题
- ✅ 修复 React Hooks 错误（`render more hooks than during the previous render`）
- ✅ 修复代码区域高度丢失的问题（在实现可拖拽预览框后）

### 快捷键
- ✅ 修复 `Cmd+G` 快捷键失效问题（被 Monaco Editor 的查找功能拦截）
- ✅ 修复 `Cmd+Shift+L` 格式化快捷键失效问题
- ✅ 修复快捷键自定义框中不支持多个键的问题
- ✅ 修复快捷键编辑时的错误（`undefined is not an object(evaluating 'key.toUpperCase')`）

### 预览功能
- ✅ 实现预览框的语法高亮和代码折叠
- ✅ 实现预览框的右键复制功能
- ✅ 实现预览框宽度的拖拽调整
- ✅ 修复预览框主题显示问题

### 全局搜索
- ✅ 修复全局替换在 Mac 软件中不生效的问题（使用原生对话框替代浏览器 API）
- ✅ 改进替换逻辑，支持未打开文件的替换
- ✅ 添加详细的错误处理和用户反馈

### UI/UX
- ✅ 修复设置界面滚动条显示问题（隐藏滚动条但保持滚动功能）
- ✅ 优化设置界面布局

---

## ⌨️ 键盘快捷键

| 快捷键 | 功能 |
|--------|------|
| `Cmd+1/2/3/4` | 切换工具（JSON/XML/Base64/HTTP） |
| `Cmd+Shift+F` | 打开全局搜索 |
| `Cmd+W` | 关闭当前标签页 |
| `Cmd+S` | 保存文件 |
| `Cmd+Shift+S` | 保存全部文件 |
| `Cmd+B` | 切换文件资源管理器 |
| `Cmd+G` | 切换预览面板 |
| `Cmd+Shift+L` | 格式化当前文件 |
| `Cmd+,` | 打开设置 |
| `Cmd+N` | 新建文件 |
| `Cmd+Shift+N` | 新建文件夹 |
| `Cmd+D` | 复制文件/文件夹 |
| `Cmd+X` | 剪切 |
| `Cmd+C` | 复制 |
| `Cmd+V` | 粘贴 |
| `Delete` | 删除文件/文件夹 |
| `Cmd+Q` | 退出应用 |

---

## 🎯 主要特性

### HTTP 工具增强
- **响应预览**：预览面板自动显示 HTTP 响应信息
- **请求耗时**：显示每次请求的耗时（毫秒）
- **自动保存**：发送请求后自动保存响应信息
- **响应持久化**：保存文件时，响应信息也会被保存

### 编辑器增强
- **可自定义字体**：支持多种等宽字体
- **可调整字体大小**：8-24px 可调
- **代码折叠**：支持代码块折叠
- **语法高亮**：所有工具都支持语法高亮

### 用户体验优化
- **自动保存默认开启**：新用户无需手动开启
- **主题快速切换**：右上角图标一键切换
- **设置界面优化**：快捷键模块默认折叠，界面更简洁
- **原生对话框**：所有确认和提示都使用 macOS 原生对话框

---

## 📦 技术栈

### 后端
- **Wails v2**：原生 Go 桌面框架
- **Go 1.21+**：业务逻辑和系统集成

### 前端
- **React 18**：UI 框架
- **Vite**：构建工具和开发服务器
- **TailwindCSS**：实用优先的 CSS 框架
- **Zustand**：轻量级状态管理
- **Monaco Editor**：代码编辑器组件
- **Lucide React**：图标库

---

## 🚀 安装与使用

### 系统要求
- macOS 10.13+ (推荐 macOS 11+)
- Apple Silicon (M1/M2/M3) 或 Intel 处理器

### 安装方式

1. **下载应用**
   - 从发布页面下载 `MacDevTools.app`
   - 或从源码构建（见 README）

2. **首次运行**
   - 如果遇到安全提示，请在"系统偏好设置" > "安全性与隐私"中允许运行
   - 应用会自动创建存储目录：`~/Documents/MacDevTools/`

3. **开始使用**
   - 选择工具（JSON/XML/Base64/HTTP）
   - 创建文件或打开现有文件
   - 开始编辑和使用工具功能

---

## 📝 已知问题

- 某些特殊字符在全局搜索替换时可能需要转义
- HTTP 工具响应大小限制为 10MB

---

## 🙏 致谢

感谢以下开源项目的支持：
- [Wails](https://wails.io/) - 出色的 Go + Web 框架
- [React](https://react.dev/) - UI 库
- [TailwindCSS](https://tailwindcss.com/) - CSS 框架
- [Monaco Editor](https://microsoft.github.io/monaco-editor/) - 代码编辑器
- [Lucide](https://lucide.dev/) - 精美的图标

---

## 📧 反馈与支持

如有问题或建议，请在 GitHub 上提交 issue。

**作者**: Keben  
**许可证**: MIT  
**版本**: 1.0.0 (Beta)

---

**Built with ❤️ for the macOS developer community**





